대규모 실시간 데이터 스트리밍 및 로그 수집에 최적화된 메세지 큐 서비스

확장성(수평 확장) / 내구성(Replication)/ 높은 처리량( 배치처리 / 압축 )



Producer는 Topic에 메시지를 발행, Topic은 이를 저장하며 Consumer는 Topic으로부터 메시지를 소비한다.
```mermaid
graph LR
    subgraph "Producers"
        P1[Producer 1]
        P2[Producer 2]
    end
    
    subgraph "Kafka Cluster"
        subgraph "Topic A"
            T1P0[Partition 0]
            T1P1[Partition 1]
            T1P2[Partition 2]
        end
    end
    
    subgraph "Consumer Group X"
        CX[Consumer X]
    end
    
    
    P1 -->|메시지 발행| T1P0
    P1 -->|메시지 발행| T1P1
    P2 -->|메시지 발행| T1P1
    P2 -->|메시지 발행| T1P2
    
    T1P0 -->|메시지 소비| CX
    T1P1 -->|메시지 소비| CX
    T1P2 -->|메시지 소비| CX
    
    
    style P1 fill:#f9d5e5,stroke:#d3869b
    style P2 fill:#f9d5e5,stroke:#d3869b
    style T1P0 fill:#ffeaa7,stroke:#fdcb6e
    style T1P1 fill:#ffeaa7,stroke:#fdcb6e
    style T1P2 fill:#ffeaa7,stroke:#fdcb6e
    style CX fill:#d5f5e3,stroke:#82e0aa
```

Kafka는 Cluster를 이루며, 하나의 노드를 Broker라 부른다.
Partition은 Topic의 물리적인 구현체이자,데이터를 담고있기 때문에 Partition 별로 Replication을 적용하고, Leader가 Partition의 동작을 수행하고 Follower가 Failover를 담당하여 Active Standby형태 구조를 띈다 
```mermaid
graph TD
    subgraph "Kafka Cluster"
        subgraph "Broker 1"
            B1P0[Topic A - Partition 0<br/>Leader]
            B1P1[Topic A - Partition 1<br/>Follower]
        end
        
        subgraph "Broker 2"
            B2P0[Topic A - Partition 0<br/>Follower]
            B2P1[Topic A - Partition 1<br/>Leader]
        end
    end
    
    subgraph "논리적 구조: Topic A"
        TA[Topic A] --- P0[Partition 0]
        TA --- P1[Partition 1]
    end
    
    %% 물리적 연결
    P0 -.-> B1P0
    P0 -.-> B2P0
    P1 -.-> B2P1
    P1 -.-> B1P1
    
    %% 스타일링
    classDef leader fill:#ff9999,stroke:#ff0000
    classDef follower fill:#c2e0c6,stroke:#0e8a16
    classDef topic fill:#ffeaa7,stroke:#fdcb6e
    
    class B1P0,B2P1 leader
    class B1P1,B2P0 follower
    class TA,P0,P1 topic
```

Kafka는 Offset을 통해 Consumer가 읽은 위치를 기억한다.
    Exactly-Once 처리 가능