# 시스템 확장

> 트래픽 대응, 가용성과 신뢰성 확보, 비즈니스의 확대를 위해 시스템 확장에 대한 대응을 해야한다.

### Vertical Scaling

H/W 스펙 증가를 통해 성능을 향상 시키나, 단일 장애 지점( SPOF )로 서비스 중단 시 시스템 동작 불가 가능성 존재

### Horizontal Scaling

서버의 개수를 증가시킨 후 로드밸런서를 통해 서비스 제공하여 무제한 확장성과 고가용성을 확보 가능하지만, 다음을 해결하기 위해 복잡한 구조를 가진다.

1. 데이터 동기화
2. 데이터 일관성

# 설계

소규모 쇼핑몰 아키텍쳐 설계

### 1. Monolithic 아키텍쳐

상품 관리, 주문 처리, 결제 시스템이 하나의 코드베이스에 포함

1. 단일 서버 시스템으로 트래픽 증가 시 성능 하락( 최악의 경우 시스템 중단 )

### 2. Vertical Scaling 도입

CPU / Memory / Disk 업그레이드

성능 개선 한계 도달 시 시스템이 더이상 트래픽 감당 불가 ( 시스템 확장 비용 기하급수적 증가)

### 3. Horizontal Scaling

LoadBalancer 도입하여 서버를 수평적으로 확장한다.

서버는 쾌적하지만 DB는 확장되지 않기 때문에 DB 성능에 문제가 발생

### 4. Database Sharding

데이터를 샤드로 분리하여 각 샤드가 독립적으로 데이터를 처리한다.

### 5. Caching 적용

DB와 부하 감소를 위해 캐시를 도입 (Redis / Memcached )

### 6. MicroService 도입

기능별로 확장을 위해 서비스 분리

### 7. 비동기 이벤트 처리 도입

트랜잭션 완료 후 오래 걸리는 작업은 MQ로 전달시켜 처리 (응답성 향상)
